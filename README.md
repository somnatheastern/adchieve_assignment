# Adchieve - Assessment

### Use case
- Create console command to resolve 8 addresses to geolocations using an API and
  calculate the distance in kilometres from each address to the Adchieve headquarters.
-  After calculating each distance, sort the results by distance to the Adchieve headquarters and
   write the sorted output to the console.
-  The calculations should then be stored in a CSV file named distances.csv

### Features included
- Possibility to read addresses from pre-defined json file, which can be changed with DB later on if required
- Possibility to query on position stack, using HTTP requests
- Possibility to fetch and calculate distance using lat/lng of address
- Possibility to print response in console
- Possibility to store generated response in CSV file

## Setup instructions

This assessment created using Laravel 10 version. In order to execute the program, please follow below setup instructions.

### Clone repository

Please take clone from https://github.com/somnatheastern/adchieve_task.git on your local environment. Once you successfully take clone of repository, please open terminal in cloned folder.

### Setup Codebase
#### Install Composer
Laravel utilizes [Composer](http://getcomposer.org/) to manage its dependencies. First, download a copy of the composer.phar. Once you have the PHAR archive, you can either keep it in your local project directory or move to usr/local/bin to use it globally on your system.

Once composer installed, please follow below commands to setup the codebase.
````
composer install
php artisan key:generate
````

Once laravel is ready, there is one more file, which we need to manually update which is .env file. This file is automatically generated for you and will be in root of application. Open than file and add below two keys, which will setup API credentials for position stack.

````
POSITION_STACK_API_KEY=<api key>
POSITION_STACK_API_BASE_URL=<api_base_url>

ADCHIEVE_HQ_LOCATION_LAT=<HQ Latitude>
ADCHIEVE_HQ_LOCATION_LNG=<HQ Longitude>
ADCHIEVE_HQ_LOCATION_ADDRESS=<HQ Address>
````

That's it! Now the laravel environment is setup for you. As this assignment contains console, command you can go to command line and access the command as per below steps

````
php artisan adchieve:distance-calculator
````
After executing this command, the laravel application automatically start the command and output the response in command line.

We have also included unit test for this command, which will ensure the command is executing correctly. In order to execute the test, please see below command

````
php artisan test
````

Thanks for reading!!!
